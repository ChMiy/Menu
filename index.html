<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0D1B2A">
    <title>Ostra D'Ouro Menu</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <!-- iOS PWA meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Restaurant Menu">
</head>
<body>
    <!-- Video Background -->
    <div class="video-background">
        <!-- Desktop video -->
        <video class="video-desktop" autoplay muted loop playsinline>
            <source src="assets/videos/white_background_video.mp4" type="video/mp4">
        </video>
    
        <!-- Mobile video -->
        <video class="video-mobile" autoplay muted loop playsinline>
            <source src="assets/videos/mediterranean_waves_video.mp4" type="video/mp4">
        </video>
    </div>

    <!-- Content Overlay -->
    <div class="content-overlay">
        <!-- Logo -->
        <div class="logo-container">
            <img src="assets/images/logo.png" alt="Ostra D'Ouro Logo" class="logo">
        </div>

        <!-- Language Selection -->
        <div class="language-selection">
            <button class="language-button" onclick="navigateToMenu('pt')">
                Português
            </button>
            <button class="language-button" onclick="navigateToMenu('en')">
                English
            </button>
            <button class="language-button" onclick="navigateToMenu('de')">
                Deutsch
            </button>
            <button class="language-button" onclick="navigateToMenu('fr')">
                Français
            </button>
            <button class="language-button" onclick="navigateToMenu('es')">
                Español
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/register-sw.js"></script>
    <script src="js/background-video.js"></script>
    <script src="js/background-asset-detector.js"></script>
    <script>
        // Robust localhost detection
        function isLocalhost() {
            const hostname = window.location.hostname;
            const port = window.location.port;
            
            // Check for localhost conditions
            const isLocalIP = hostname === 'localhost' || hostname === '127.0.0.1' || hostname === '::1';
            const isLocalPort = port === '8000' || port === '3000' || port === '8080' || port === '5000';
            const isFileProtocol = window.location.protocol === 'file:';
            
            // Also check if we're NOT on GitHub Pages domain
            const isGitHubPages = hostname.includes('github.io') || hostname.includes('githubusercontent.com');
            
            return (isLocalIP && isLocalPort) || isFileProtocol || (!isGitHubPages && port);
        }
        
        function navigateToMenu(lang) {
            const basePath = isLocalhost() ? '' : '/Menu/';
            window.location.href = `${basePath}pages/select-menu.html?lang=${lang}`;
        }
        
        console.log('Index Debug:', {
            hostname: window.location.hostname,
            port: window.location.port,
            isLocalhost: isLocalhost(),
            basePath: isLocalhost() ? '' : '/Menu/'
        });

        // Add hover and click effects
        document.querySelectorAll('.language-button').forEach(button => {
            button.addEventListener('mouseenter', () => {
                button.style.transform = 'scale(1.02)';
            });

            button.addEventListener('mouseleave', () => {
                button.style.transform = 'scale(1)';
            });

            button.addEventListener('click', () => {
                button.style.transform = 'scale(0.98)';
                button.style.boxShadow = '0 0 15px rgba(212, 175, 55, 0.3)';
            });
        });
    </script>
</body>
</html> 